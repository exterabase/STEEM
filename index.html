<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Банний комплекс STEEM</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    </noscript>

    <link rel="stylesheet" href="style.css">

    <script>
        const IMAGES = {
            banya_velika: [
                "big/banya_big_1.jpg", "big/banya_big_2.jpg", "big/banya_big_3.jpg", 
                "big/banya_big_4.jpg", "big/banya_big_5.jpg", "big/banya_big_6.jpg", 
                "big/banya_big_7.jpg", "big/banya_big_8.jpg", "big/banya_big_9.jpg", 
                "big/banya_big_10.jpg", "big/banya_big_11.jpg", "big/banya_big_12.jpg", 
                "big/banya_big_13.jpg", "big/banya_big_14.jpg", "big/banya_big_15.jpg", 
                "big/banya_big_16.jpg", "big/banya_big_17.jpg", "big/banya_big_18.jpg", 
                "big/banya_big_19.jpg", "big/banya_big_20.jpg", "big/banya_big_21.jpg", 
                "big/banya_big_22.jpg", "big/banya_big_23.jpg", "big/banya_big_24.jpg"
            ],
            banya_mala: [
                "small/banya_small_1.jpg", "small/banya_small_2.jpg", "small/banya_small_3.jpg", 
                "small/banya_small_4.jpg", "small/banya_small_5.jpg", "small/banya_small_6.jpg", 
                "small/banya_small_7.jpg", "small/banya_small_8.jpg"
            ],
            hamam_chan: [
                "hamam/hamam_1.jpg", "hamam/hamam_2.jpg", "hamam/hamam_3.jpg", 
                "hamam/hamam_4.jpg", "hamam/hamam_5.jpg", "hamam/hamam_6.jpg", 
                "hamam/hamam_7.jpg", "hamam/hamam_8.jpg", "hamam/hamam_9.jpg", 
                "hamam/hamam_10.jpg"
            ],
            dim_velykyi: [
                "big/dim_big_1.jpg", "big/dim_big_2.jpg", "big/dim_big_3.jpg", 
                "big/dim_big_4.jpg", "big/dim_big_5.jpg", "big/dim_big_6.jpg", 
                "big/dim_big_7.jpg", "big/dim_big_8.jpg"
            ],
            dim_malyi: [
                "small/dim_small_1.jpg", "small/dim_small_2.jpg", "small/dim_small_3.jpg", 
                "small/dim_small_4.jpg", "small/dim_small_5.jpg", "small/dim_small_6.jpg", 
                "small/dim_malyi_7.jpg", "small/dim_small_8.jpg"
            ],
            basein: [
                "basein/basein_1.jpg", "basein/basein_2.jpg", "basein/basein_3.jpg", 
                "basein/basein_4.jpg", "basein/basein_5.jpg", "basein/basein_6.jpg", 
                "basein/basein_7.jpg", "basein/basein_8.jpg"
            ],
            altanka: [
                "altanka/altanka_1.jpg", "altanka/altanka_2.jpg", "altanka/altanka_3.jpg", 
                "altanka/altanka_4.jpg", "altanka/altanka_5.jpg", "altanka/altanka_6.jpg", 
                "altanka/altanka_7.jpg", "altanka/altanka_8.jpg"
            ],
        };
    </script>
</head>
<body>
<!-- SVG ICONS -->
<svg xmlns="http://www.w3.org/2000/svg" style="display:none">
  <symbol id="ic-flame" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0011 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 11-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 002.5 3z"/></symbol>
  <symbol id="ic-phone" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07A19.5 19.5 0 013.07 9.81a19.79 19.79 0 01-3.07-8.67A2 2 0 012 0h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L6.09 7.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 14v2.92z"/></symbol>
  <symbol id="ic-pin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></symbol>
  <symbol id="ic-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></symbol>
  <symbol id="ic-park" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13" rx="2"/><path d="M16 8h4l3 3v5h-7V8zM5 17v4M19 17v4"/></symbol>
  <symbol id="ic-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></symbol>
  <symbol id="ic-snow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="2" x2="12" y2="22"/><path d="M17 7l-5-5-5 5M17 17l-5 5-5-5M2 12h20M7 7l-5 5 5 5M17 7l5 5-5 5"/></symbol>
  <symbol id="ic-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></symbol>
  <symbol id="ic-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></symbol>
  <symbol id="ic-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></symbol>
  <symbol id="ic-arrow-r" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></symbol>
  <symbol id="ic-chevl" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></symbol>
  <symbol id="ic-chevr" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></symbol>
  <symbol id="ic-card" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></symbol>
  <symbol id="ic-mobile" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></symbol>
  <symbol id="ic-cash" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2"/><circle cx="12" cy="12" r="3"/><path d="M5 12H1M23 12h-4"/></symbol>
  <symbol id="ic-user" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></symbol>
  <symbol id="ic-msg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></symbol>
  <symbol id="ic-info" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></symbol>
  <symbol id="ic-warn" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></symbol>
  <symbol id="ic-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></symbol>
  <symbol id="ic-gear" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></symbol>
  <symbol id="ic-viber" viewBox="0 0 24 24" fill="currentColor"><path d="M11.4 0C5.9.2 1.9 4.4 2 9.9c.1 2.6.9 4.8 2.5 6.6v4l3.8-1.2c1 .3 2.1.5 3.2.5 5.5.2 10.1-4 10.5-9.5C22.4 4.4 17.5-.2 11.4 0zm2.7 15.7l-.1.1c-.4.3-.7.4-1.1.3h-.1c-1.3-.5-2.6-1.2-3.6-2.2s-1.8-2.2-2.3-3.5c-.2-.4-.1-.8.2-1.1l.1-.1c.5-.5 1-.6 1.4-.3l.1.1c.4.4.8.9 1.1 1.4.2.3.1.7-.2.9l-.4.3c-.1.1-.1.2-.1.3.3.8.9 1.4 1.7 1.8.1 0 .2 0 .3-.1l.3-.4c.2-.3.6-.4.9-.2.5.3 1 .7 1.4 1.1l.1.1c.3.4.2.9-.2 1.4zm.3-5.6c-.2 0-.3-.1-.3-.3-.2-1.2-1.2-2.1-2.5-2.3-.2 0-.3-.2-.3-.4s.2-.3.4-.3c1.6.2 2.9 1.4 3.1 3 0 .2-.2.3-.4.3zm2 .7c-.2 0-.3-.1-.4-.3-.3-2-1.8-3.5-3.9-3.9-.2 0-.3-.2-.3-.4s.2-.3.4-.3c2.4.4 4.2 2.2 4.6 4.6 0 .2-.1.3-.4.3zm2.1.6c-.2 0-.4-.1-.4-.3-.4-2.8-2.6-5-5.5-5.5-.2 0-.3-.2-.3-.4s.2-.3.4-.3c3.2.6 5.7 3 6.2 6.1 0 .2-.2.4-.4.4z"/></symbol>
  <symbol id="ic-telegram" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0a12 12 0 00-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 01.171.325c.016.093.036.306.02.472-.18 1.898-.96 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></symbol>
  <symbol id="ic-instagram" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></symbol>
  <symbol id="ic-tiktok" viewBox="0 0 24 24" fill="currentColor"><path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-2.88 2.5 2.89 2.89 0 01-2.89-2.89 2.89 2.89 0 012.89-2.89c.28 0 .54.04.79.1V9.01a6.33 6.33 0 00-.79-.05 6.34 6.34 0 00-6.34 6.34 6.34 6.34 0 006.34 6.34 6.34 6.34 0 006.33-6.34V9.15a8.16 8.16 0 004.77 1.52V7.2a4.85 4.85 0 01-1-.51z"/></symbol>
  <symbol id="ic-sauna" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><path d="M9 18c0-1.7 1.3-3 3-3s3 1.3 3 3"/><path d="M9 9c0 0 1-1 3-1s3 1 3 1"/></symbol>
  <symbol id="ic-house" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></symbol>
  <symbol id="ic-pool" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12h20M2 17c1.5 0 3-1 4.5-1s3 1 4.5 1 3-1 4.5-1 3 1 4.5 1"/><circle cx="8" cy="6" r="2"/><path d="M8 8v4M16 4l-2 8"/></symbol>
  <symbol id="ic-tree" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 14l-5-8-5 8h3.5v6h3v-6z"/><path d="M12 3v2M20 17H4"/></symbol>
  <symbol id="ic-steam" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 2c0 2-2 2-2 4s2 2 2 4-2 2-2 4 2 2 2 4"/><path d="M12 2c0 2-2 2-2 4s2 2 2 4-2 2-2 4 2 2 2 4"/><path d="M16 2c0 2-2 2-2 4s2 2 2 4-2 2-2 4 2 2 2 4"/></symbol>
  <symbol id="ic-drop" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 11-11.31 0z"/></symbol>
  <symbol id="ic-shield" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></symbol>
  <symbol id="ic-star" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></symbol>
  <symbol id="ic-paw" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="4" r="2"/><circle cx="18" cy="8" r="2"/><circle cx="20" cy="16" r="2"/><path d="M9 10a5 5 0 015 5v3.5a3.5 3.5 0 01-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 018 13.5V13a5 5 0 011-3"/></symbol>
  <symbol id="ic-percent" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="5" x2="5" y2="19"/><circle cx="6.5" cy="6.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></symbol>
  <symbol id="ic-broom" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 21L17 11M18 3l-7 8"/><path d="M13 19l4 2-2-4 5-5-7-1 1 7-1-1z"/></symbol>
  <symbol id="ic-age" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="4"/><path d="M12 14c-5.33 0-8 2.67-8 4v2h16v-2c0-1.33-2.67-4-8-4z"/><line x1="8" y1="3" x2="16" y2="13" stroke="red" stroke-width="2.5"/></symbol>
  <symbol id="ic-food" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8h1a4 4 0 010 8h-1"/><path d="M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></symbol>
  <symbol id="ic-damage" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></symbol>
  <symbol id="ic-link" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></symbol>
  <symbol id="ic-arrow-l" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></symbol>
</svg>

<header>
  <a href="#" class="logo">
    <span class="logo-ic"><svg class="icon" width="22" height="22"><use href="#ic-flame"/></svg></span>
    <div class="logo-t">Банний комплекс <em>STEEM</em></div>
  </a>
  <div class="hdr">
    <a href="tel:+380985452146" class="hdr-ph">
      <svg class="icon" width="15" height="15"><use href="#ic-phone"/></svg>
      +38 (098) 545-21-46
    </a>
    <div class="lang-t">
      <button class="lbtn on" onclick="setLang('uk')">UA</button>
      <button class="lbtn" onclick="setLang('ru')">RU</button>
    </div>
    <a href="admin.html" class="adm">
      <svg class="icon" width="14" height="14"><use href="#ic-gear"/></svg>
      <span>Адмін</span>
    </a>
  </div>
</header>

<div class="hero">
  <video class="hvid" autoplay muted loop playsinline>
    <source src="video.mp4" type="video/mp4">
  </video>
  <div class="hov"></div>
  <div class="hcon">
    <div class="hbadge"><svg class="icon" width="12" height="12"><use href="#ic-clock"/></svg>Цілодобово, без вихідних</div>
    <h1 class="htitle">Банний комплекс STEEM</h1>
    <p class="hsub">Баня, чан, хамам та літні домики — Київщина, с. Михайлівка-Рубежівка</p>
    <div class="hbtns">
      <button class="hcta" onclick="toSec()"><svg class="icon" width="16" height="16"><use href="#ic-calendar"/></svg> Забронювати</button>
      <a href="tel:+380985452146" class="hcta ol"><svg class="icon" width="16" height="16"><use href="#ic-phone"/></svg> Подзвонити</a>
    </div>
  </div>
</div>

<div class="istrip">
  <div class="c">
    <div class="ii"><svg class="icon" width="14" height="14"><use href="#ic-pin"/></svg><span id="iA">с. Михайлівка-Рубежівка, вул. Житомирська 53</span></div>
    <div class="ii"><svg class="icon" width="14" height="14"><use href="#ic-clock"/></svg><strong id="iH">Цілодобово, без вихідних</strong></div>
    <div class="ii"><svg class="icon" width="14" height="14"><use href="#ic-park"/></svg><span id="iP">Паркінг 10 місць</span></div>
    <div class="ii"><svg class="icon" width="14" height="14"><use href="#ic-phone"/></svg><strong><a href="tel:+380985452146" style="color:var(--sky-l)">+38 (098) 545-21-46</a></strong></div>
  </div>
</div>

<div class="sec" id="mainSec">
  <div class="c">
    <div class="sh">
      <div class="st" id="secT">Оберіть локацію</div>
      <div class="ss" id="secS">Натисніть на картку, щоб побачити деталі та перейти до бронювання</div>
    </div>
    <div class="stabs">
      <button class="stab w" id="tabW" onclick="activeSeason('winter')">
        <svg class="icon" width="16" height="16"><use href="#ic-snow"/></svg>
        <span id="twt">Зимовий відпочинок</span>
      </button>
      <button class="stab" id="tabS" onclick="activeSeason('summer')">
        <svg class="icon" width="16" height="16"><use href="#ic-sun"/></svg>
        <span id="tst">Літній відпочинок</span>
      </button>
    </div>
    <div class="sb on" id="sbW"><div class="lgrid" id="wgrid"></div></div>
    <div class="sb" id="sbS"><div class="lgrid" id="sgrid"></div></div>

    <div class="ldetail" id="ldetail">
      <div class="pslider" id="pslider">
        <button class="pnav pnl" onclick="prevP()"><svg class="icon" width="16" height="16"><use href="#ic-chevl"/></svg></button>
        <button class="pnav pnr" onclick="nextP()"><svg class="icon" width="16" height="16"><use href="#ic-chevr"/></svg></button>
        <div class="pdts" id="pdts"></div>
        <div class="phint" id="phint"></div>
      </div>
      <div class="lbody">
        <div>
          <h2 id="dname"></h2>
          <p id="ddesc"></p>
          <div class="tags" id="dtags"></div>
          <div style="margin-top:10px;font-size:12px;color:var(--muted);display:flex;align-items:center;gap:6px" id="dinc"></div>
        </div>
        <div class="pbox">
          <div class="pbig" id="dprice"></div>
          <div class="punit" id="dunit">грн/год</div>
          <div class="pmin" id="dmin"></div>
          <button class="bgoto" onclick="toBook()">
            <span>Забронювати</span>
            <svg class="icon" width="14" height="14"><use href="#ic-arrow-r"/></svg>
          </button>
          <a class="olxl" id="dolx" target="_blank" href="#">
            <svg class="icon" width="12" height="12"><use href="#ic-link"/></svg>
            Детальніше на OLX
          </a>
        </div>
      </div>
    </div>

    <!-- STEPS INDICATOR -->
    <div class="steps-bar" id="stepsBar" style="display:none">
      <div class="step" id="step1">
        <svg class="step-ic" width="20" height="20"><use href="#ic-sauna"/></svg>
        <span class="step-lbl" id="stepL1">Локація</span>
      </div>
      <div class="step" id="step2">
        <svg class="step-ic" width="20" height="20"><use href="#ic-calendar"/></svg>
        <span class="step-lbl" id="stepL2">Дата</span>
      </div>
      <div class="step" id="step3">
        <svg class="step-ic" width="20" height="20"><use href="#ic-clock"/></svg>
        <span class="step-lbl" id="stepL3">Час</span>
      </div>
      <div class="step" id="step4">
        <svg class="step-ic" width="20" height="20"><use href="#ic-user"/></svg>
        <span class="step-lbl" id="stepL4">Контакти</span>
      </div>
    </div>

    <div class="nloc" id="nloc">
      <svg width="40" height="40" style="color:var(--border)"><use href="#ic-sauna"/></svg>
      <div id="nloctxt">Оберіть локацію вище, щоб перейти до бронювання</div>
    </div>

    <div class="bwrap" id="bsec" style="display:none">
      <div class="bhead">
        <svg class="icon" width="22" height="22"><use href="#ic-calendar"/></svg>
        <div><h3 id="bttl">Бронювання</h3><small id="bsub">Оберіть дату та час</small></div>
      </div>
      <div class="bcols">
        <div class="bcol">
          <div class="bct">
            <svg class="icon" width="14" height="14"><use href="#ic-calendar"/></svg>
            <span id="bctD">Дата</span>
          </div>
          <div class="cnav">
            <button class="carr" onclick="prevM()"><svg class="icon" width="14" height="14"><use href="#ic-chevl"/></svg></button>
            <div class="cmo" id="cmo"></div>
            <button class="carr" onclick="nextM()"><svg class="icon" width="14" height="14"><use href="#ic-chevr"/></svg></button>
          </div>
          <div class="cgrid" id="cgrid"></div>
        </div>
        <div class="bcol">
          <div class="bct">
            <svg class="icon" width="14" height="14"><use href="#ic-clock"/></svg>
            <span id="bctT">Час</span>
          </div>
          <div id="twrap"><div class="nodt" id="nodtmsg"><svg class="icon" width="16" height="16" style="color:var(--border)"><use href="#ic-calendar"/></svg> Спочатку оберіть дату</div></div>
          <div class="emsg" id="emsg"><svg class="icon" width="15" height="15"><use href="#ic-warn"/></svg><span id="emsgTxt"></span></div>
          <div class="leg">
            <div class="li"><div class="ld l1"></div><span id="lg1">Вільно</span></div>
            <div class="li"><div class="ld l2"></div><span id="lg2">Обрано</span></div>
            <div class="li"><div class="ld l3"></div><span id="lg3">Зайнято</span></div>
            <div class="li"><div class="ld l4"></div><span id="lg4">Прибирання</span></div>
          </div>
        </div>
      </div>
      <div class="bform">
        <div class="pnote">
          <svg class="icon" width="16" height="16" style="flex-shrink:0;margin-top:1px"><use href="#ic-card"/></svg>
          <div><strong id="pnT">Передоплата за першу годину</strong><span id="pnD">Для підтвердження бронювання. Аванс не повертається.</span></div>
        </div>
        <div class="cnote" id="cnoteEl">
          <svg class="icon" width="15" height="15"><use href="#ic-check"/></svg>
          Безкоштовне скасування за 72 год до початку
        </div>

        <!-- VALIDATION CHECKLIST -->
        <div class="val-check" id="valCheck">
          <div class="vc-title"><svg class="icon" width="13" height="13"><use href="#ic-info"/></svg> <span id="vcTitle">Для бронювання потрібно:</span></div>
          <div class="vc-row" id="vc-loc">
            <div class="vc-dot"><svg class="icon" width="10" height="10"><use href="#ic-x"/></svg></div>
            <span id="vct-loc">Оберіть локацію</span>
          </div>
          <div class="vc-row" id="vc-date">
            <div class="vc-dot"><svg class="icon" width="10" height="10"><use href="#ic-x"/></svg></div>
            <span id="vct-date">Оберіть дату</span>
          </div>
          <div class="vc-row" id="vc-time">
            <div class="vc-dot"><svg class="icon" width="10" height="10"><use href="#ic-x"/></svg></div>
            <span id="vct-time">Оберіть мінімум 3 години</span>
          </div>
          <div class="vc-row" id="vc-name">
            <div class="vc-dot"><svg class="icon" width="10" height="10"><use href="#ic-x"/></svg></div>
            <span id="vct-name">Введіть ім'я</span>
          </div>
          <div class="vc-row" id="vc-phone">
            <div class="vc-dot"><svg class="icon" width="10" height="10"><use href="#ic-x"/></svg></div>
            <span id="vct-phone">Введіть телефон</span>
          </div>
        </div>

        <div class="frow">
          <div class="fg">
            <label><svg class="icon" width="12" height="12"><use href="#ic-user"/></svg> <span id="fnL">Ваше ім'я</span></label>
            <input type="text" id="finp" placeholder="Іван Петренко" oninput="chkBtn()">
          </div>
          <div class="fg">
            <label><svg class="icon" width="12" height="12"><use href="#ic-phone"/></svg> <span id="fpL">Телефон</span></label>
            <input type="tel" id="fph" placeholder="+38 (098) 545-21-46" oninput="chkBtn()">
          </div>
        </div>
        <div class="fg" style="margin-bottom:13px">
          <label><svg class="icon" width="12" height="12"><use href="#ic-msg"/></svg> <span id="fcL">Коментар</span></label>
          <input type="text" id="fcom" placeholder="Кількість осіб, побажання...">
        </div>
        <div class="sbox">
          <div class="sr"><span class="sl"><svg class="icon" width="12" height="12"><use href="#ic-sauna"/></svg> <span id="sloc">Локація</span></span><span class="sv" id="slocv">—</span></div>
          <div class="sr"><span class="sl"><svg class="icon" width="12" height="12"><use href="#ic-calendar"/></svg> <span id="sdat">Дата</span></span><span class="sv" id="sdatv">—</span></div>
          <div class="sr"><span class="sl"><svg class="icon" width="12" height="12"><use href="#ic-clock"/></svg> <span id="stim">Час</span></span><span class="sv" id="stimv">—</span></div>
          <div class="sr"><span class="sl"><svg class="icon" width="12" height="12"><use href="#ic-clock"/></svg> <span id="sdur">Тривалість</span></span><span class="sv" id="sdurv">—</span></div>
          <div class="sr"><span class="sl"><svg class="icon" width="12" height="12"><use href="#ic-card"/></svg> <span id="sadv">Аванс</span></span><span class="sv" id="sadvv" style="color:var(--red)">—</span></div>
          <div class="sr tot"><span class="sl"><span id="stot">Разом</span></span><span class="sv" id="stotv">—</span></div>
        </div>
        <div style="position:relative">
          <button class="bbtn" id="bbtn" onclick="handleBook()">
            <svg class="icon" width="16" height="16"><use href="#ic-card"/></svg>
            <span id="bbtnTxt">Перейти до оплати</span>
            <svg class="icon" width="16" height="16"><use href="#ic-arrow-r"/></svg>
          </button>
          <div class="bbtn-hint" id="bbtnHint" style="display:none"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="sec" style="padding-top:0">
  <div class="c">
    <div class="st" id="rT">Правила відвідування</div>
    <div class="rgrid">
      <div class="ri"><div class="ri-ic"><svg width="20" height="20"><use href="#ic-age"/></svg></div><div id="r1">Особи до 18 років — лише у супроводі дорослих</div></div>
      <div class="ri"><div class="ri-ic"><svg width="20" height="20"><use href="#ic-food"/></svg></div><div id="r2">Власну їжу та напої можна приносити</div></div>
      <div class="ri"><div class="ri-ic"><svg width="20" height="20"><use href="#ic-paw"/></svg></div><div id="r3">Тварини не допускаються</div></div>
      <div class="ri"><div class="ri-ic"><svg width="20" height="20"><use href="#ic-damage"/></svg></div><div id="r4">Пошкодження майна — огляд, оцінка, відшкодування</div></div>
      <div class="ri"><div class="ri-ic"><svg width="20" height="20"><use href="#ic-percent"/></svg></div><div id="r5">Знижки для постійних клієнтів — обговорюються особисто</div></div>
      <div class="ri"><div class="ri-ic"><svg width="20" height="20"><use href="#ic-broom"/></svg></div><div id="r6">1 год між бронюваннями — прибирання</div></div>
    </div>
  </div>
</div>

<div class="sec" style="padding-top:0">
  <div class="c">
    <div class="st" id="mT" style="margin-bottom:13px">Як нас знайти</div>
    <div style="font-size:13px;color:var(--muted);margin-bottom:13px;display:flex;align-items:center;gap:7px" id="mA">
      <svg class="icon" width="14" height="14"><use href="#ic-pin"/></svg>
      Київська обл., с. Михайлівка-Рубежівка, вул. Житомирська 53
      &nbsp;|&nbsp;
      <svg class="icon" width="14" height="14"><use href="#ic-park"/></svg>
      Паркінг 10 авто
    </div>
    <div class="mwrap">
      <iframe
        src="https://www.google.com/maps?q=Київська+обл.,+с.+Михайлівка-Рубежівка,+вул.+Житомирська+53&output=embed"
        style="border:0;width:100%;height:320px;"
        loading="lazy"
        allowfullscreen
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
</div>

<!-- PAYMENT MODAL -->
<div class="ovl" id="pModal">
  <div class="mbox">
    <button class="mcl" onclick="closePay()"><svg class="icon" width="14" height="14"><use href="#ic-x"/></svg></button>
    <div id="pForm">
      <div class="mttl"><svg class="icon" width="20" height="20"><use href="#ic-card"/></svg> <span id="mttlTxt">Оплата</span></div>
      <div class="msub"><span id="msub">Введіть дані для оплати</span><span class="demo">ДЕМО</span></div>
      <div class="cbox">
        <div><div class="cbl" id="cbl">Аванс (1 година)</div><div class="cbd" id="cbd">—</div></div>
        <div class="cba" id="cba">—</div>
      </div>
      <div class="anote">
        <svg class="icon" width="15" height="15" style="flex-shrink:0;margin-top:1px"><use href="#ic-info"/></svg>
        <span id="anoteT">Зараз списується аванс — вартість 1 год. Решта оплачується на місці.</span>
      </div>
      <div class="prow">
        <button class="pb on" onclick="selPay(this,'card')">
          <svg width="22" height="22"><use href="#ic-card"/></svg>
          <span id="ptCard">Картка</span>
        </button>
        <button class="pb" onclick="selPay(this,'mono')">
          <svg width="22" height="22"><use href="#ic-mobile"/></svg>
          <span id="ptMono">Monobank</span>
        </button>
        <button class="pb" onclick="selPay(this,'cash')">
          <svg width="22" height="22"><use href="#ic-cash"/></svg>
          <span id="ptCash">Готівка</span>
        </button>
      </div>
      <div class="cform" id="cformEl">
        <div>
          <label class="cflbl" id="cnumL">Номер картки</label>
          <input class="cfinp" type="text" placeholder="0000 0000 0000 0000" maxlength="19" oninput="fmtCard(this)">
        </div>
        <div class="crow2">
          <div>
            <label class="cflbl" id="cexpL">Строк дії</label>
            <input class="cfinp" type="text" placeholder="MM/РР" maxlength="5" oninput="fmtExp(this)">
          </div>
          <div>
            <label class="cflbl">CVV</label>
            <input class="cfinp" type="password" placeholder="•••" maxlength="3">
          </div>
        </div>
      </div>
      <div class="apy" id="apyEl">
        <svg width="36" height="36" id="apyI"><use href="#ic-mobile"/></svg>
        <strong id="apyT">Оплата через Monobank</strong>
        <span id="apyD">Посилання надійде на вказаний телефон</span>
      </div>
      <button class="bpay" onclick="confPay()">
        <svg class="icon" width="16" height="16"><use href="#ic-check"/></svg>
        <span id="bpayTxt">Підтвердити та оплатити</span>
      </button>
    </div>
    <div id="succView" style="display:none">
      <div class="succ">
        <svg class="si" width="70" height="70"><use href="#ic-success"/></svg>
        <h2 id="succT">Заброньовано!</h2>
        <p id="succD">Бронювання підтверджено!<br>с. Михайлівка-Рубежівка, вул. Житомирська 53</p>
        <div class="scode" id="bcode"></div>
        <div style="font-size:12px;color:var(--muted);margin-bottom:16px;display:flex;align-items:center;gap:5px">
          <svg class="icon" width="13" height="13"><use href="#ic-phone"/></svg>
          <a href="tel:+380985452146">+38 (098) 545-21-46</a>
        </div>
        <button class="bdone" onclick="closeReset()">
          <svg class="icon" width="16" height="16"><use href="#ic-check"/></svg>
          <span id="bdoneBtn">Чудово, дякую!</span>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="flts">
  <a href="tel:+380985452146" class="fb fb-ph"><svg width="22" height="22"><use href="#ic-phone"/></svg><span class="ftip">+38 (098) 545-21-46</span></a>
  <a href="viber://chat?number=%2B380985452146" class="fb fb-vb"><svg width="22" height="22"><use href="#ic-viber"/></svg><span class="ftip">Viber</span></a>
  <a href="https://t.me/+380985452146" target="_blank" class="fb fb-tg"><svg width="22" height="22"><use href="#ic-telegram"/></svg><span class="ftip">Telegram</span></a>
  <a href="https://www.instagram.com/steem_relax" target="_blank" class="fb fb-ig"><svg width="22" height="22"><use href="#ic-instagram"/></svg><span class="ftip">@steem_relax</span></a>
</div>

<footer>
  <div class="fi">
    <strong>
      <svg class="icon" width="18" height="18"><use href="#ic-flame"/></svg>
      Банний комплекс STEEM
    </strong>
    <div style="display:flex;align-items:center;gap:6px" id="fA">
      <svg class="icon" width="13" height="13"><use href="#ic-pin"/></svg>
      Київська обл., с. Михайлівка-Рубежівка, вул. Житомирська 53
    </div>
    <div style="display:flex;align-items:center;gap:6px">
      <svg class="icon" width="13" height="13"><use href="#ic-phone"/></svg>
      <a href="tel:+380985452146">+38 (098) 545-21-46</a>
      &nbsp;|&nbsp;
      <svg class="icon" width="13" height="13"><use href="#ic-clock"/></svg>
      <span id="fH">Цілодобово</span>
    </div>
    <div class="fsoc">
      <a href="https://www.instagram.com/steem_relax" target="_blank"><svg width="14" height="14"><use href="#ic-instagram"/></svg> Instagram</a>
      <a href="https://www.tiktok.com/@taras_sviridenko0" target="_blank"><svg width="14" height="14"><use href="#ic-tiktok"/></svg> TikTok</a>
      <a href="viber://chat?number=%2B380985452146"><svg width="14" height="14"><use href="#ic-viber"/></svg> Viber</a>
      <a href="https://t.me/+380985452146" target="_blank"><svg width="14" height="14"><use href="#ic-telegram"/></svg> Telegram</a>
    </div>
    <div style="font-size:11px;margin-top:6px" id="fR">© 2025 Банний комплекс STEEM</div>
  </div>
</footer>

<div class="toast-wrap" id="toastWrap"></div>

<script>
const LOCS={
  uk:{
    winter:[
      {key:'banya_velika',name:'Баня велика',priceLabel:'800 грн/год',capacity:'до 16 осіб',
       olx:'https://www.olx.ua/d/uk/obyavlenie/banya-na-drovah-laznya-baseyn-blyard-kamn-banniy-kompleks-steem-IDREbtL.html',
       desc:'Велика баня на дровах для великої компанії. Просторна парна, більярд, камін, басейн, кухня та зона відпочинку.',
       tags:['до 16 осіб','Басейн','Більярд','Камін','Кухня'],
       inc:'Шапочки включено',notinc:'Рушники, тапочки, чай, віники — окремо',
       min:'Мін. 3 год · бронювання за 3 год',tb:'t1',icon:'ic-sauna',price:800},
      {key:'banya_mala',name:'Баня мала',priceLabel:'700 грн/год',capacity:'до 10 осіб',
       olx:'https://www.olx.ua/d/uk/obyavlenie/banya-na-drovah-laznya-baseyn-banniy-kompleks-steem-IDVDfWu.html',
       desc:'Затишна баня на дровах для невеликої компанії або сімейного відпочинку. Парна, купіль, зона відпочинку.',
       tags:['до 10 осіб','Парна','Купіль','Зона відпочинку'],
       inc:'Шапочки включено',notinc:'Рушники, тапочки, чай, віники — окремо',
       min:'Мін. 3 год · бронювання за 3 год',tb:'t2',icon:'ic-steам',price:700},
      {key:'hamam_chan',name:'Хамам та Чан',priceLabel:'1200 грн/год',capacity:'до 10 осіб',
       olx:'https://www.olx.ua/d/uk/obyavlenie/chan-hamam-baseyn-banniy-kompleks-steem-IDX4bsn.html',
       desc:'Комплекс: турецький хамам з мармуровим лежаком + дерев\'яний чан під відкритим небом.',
       tags:['до 10 осіб','Хамам','Чан','Відкрите небо'],
       inc:'Шапочки включено',notinc:'Рушники, тапочки — окремо',
       min:'Чан: бронювання за 7 год | Хамам: за 1 год',tb:'t3',icon:'ic-drop',price:1200},
    ],
    summer:[
      {key:'dim_velykyi',name:'Великий будинок',priceLabel:'5000 грн/доба (пн–чт), 6000 грн/доба (пт–нд)',capacity:'до 16 осіб',
       olx:'',desc:'Великий будинок для групового відпочинку. Добова оренда, кухня, мангал, тераса.',
       tags:['до 16 осіб','Добова оренда','Кухня','Мангал'],
       inc:'Постільна білизна включена',notinc:'Рушники, харчування — окремо',
       min:'Добова оренда',tb:'t4',icon:'ic-house',price:0},
      {key:'dim_malyi',name:'Маленький будинок',priceLabel:'3000 грн/доба (пн–чт), 4000 грн/доба (пт–нд)',capacity:'до 8 осіб',
       olx:'',desc:'Затишний будинок для сімейного або романтичного відпочинку. Кухня, кімнати, мангал.',
       tags:['до 8 осіб','Добова оренда','Кухня','Мангал'],
       inc:'Постільна білизна включена',notinc:'Рушники, харчування — окремо',
       min:'Добова оренда',tb:'t5',icon:'ic-house',price:0},
      {key:'basein',name:'Басейн',priceLabel:'500 грн/особа (пн–чт), 600 грн/особа (пт–нд)',capacity:'до 20 осіб',
       olx:'',desc:'Відкритий басейн для купання в теплу пору року.',
       tags:['до 20 осіб','Відкритий','Літній сезон'],
       inc:'',notinc:'Рушники — окремо',min:'Мін. 1 год',tb:'t6',icon:'ic-pool',price:0},
      {key:'altanka',name:'Альтанка',priceLabel:'Уточнюйте ціну',capacity:'до 20 осіб',
       olx:'',desc:'Простора альтанка для пікніків та свят. Мангал, стіл, лавки.',
       tags:['до 20 осіб','Мангал','Пікнік'],
       inc:'',notinc:'Харчування — власне',min:'Мін. 2 год',tb:'t7',icon:'ic-tree',price:0},
    ]
  }
};
LOCS.ru=JSON.parse(JSON.stringify(LOCS.uk));
const RU={
  banya_velika:{name:'Баня большая',desc:'Большая баня на дровах для большой компании. Бассейн, бильярд, камин, кухня.',tags:['до 16 чел.','Бассейн','Бильярд','Камин','Кухня'],min:'Мин. 3 ч · бронирование за 3 ч',inc:'Шапочки включены',notinc:'Полотенца, тапки, чай, веники — отдельно'},
  banya_mala:{name:'Баня малая',desc:'Уютная баня на дровах для небольшой компании.',tags:['до 10 чел.','Парная','Купель','Зона отдыха'],min:'Мин. 3 ч · бронирование за 3 ч',inc:'Шапочки включены',notinc:'Полотенца, тапки, чай, веники — отдельно'},
  hamam_chan:{name:'Хамам и Чан',desc:'Комплекс: турецкий хамам + деревянный чан под открытым небом.',tags:['до 10 чел.','Хамам','Чан','Открытое небо'],min:'Чан: за 7 ч | Хамам: за 1 ч',inc:'Шапочки включены',notinc:'Полотенца — отдельно'},
  dim_velykyi:{name:'Большой дом',desc:'Большой дом для группового отдыха. Посуточная аренда.',tags:['до 16 чел.','Посуточно','Кухня','Мангал'],min:'Посуточная аренда',inc:'Постельное бельё включено',notinc:'Полотенца — отдельно'},
  dim_malyi:{name:'Маленький дом',desc:'Уютный домик для семейного отдыха.',tags:['до 8 чел.','Посуточно','Кухня','Мангал'],min:'Посуточная аренда',inc:'Постельное бельё включено',notinc:'Полотенца — отдельно'},
  basein:{name:'Бассейн',desc:'Открытый бассейн в тёплое время года.',tags:['до 20 чел.','Открытый','Летний'],min:'Мин. 1 ч',inc:'',notinc:'Полотенца — отдельно'},
  altanka:{name:'Беседка',desc:'Просторная беседка для пикников и праздников.',tags:['до 20 чел.','Мангал','Пикник'],min:'Мин. 2 ч',inc:'',notinc:'Питание — своё'},
};
['winter','summer'].forEach(s=>LOCS.ru[s].forEach(l=>{if(RU[l.key])Object.assign(l,RU[l.key])}));

const TBG=['t1','t2','t3','t4','t5','t6','t7','t8'];
let lang='uk',season='winter',selKey=null,curY,curM,selD=null,selSlots=[],curPh=0,payM='card';

const TR2={
  uk:{secT:'Оберіть локацію',secS:'Натисніть на картку, щоб побачити деталі та перейти до бронювання',
    twt:'Зимовий відпочинок',tst:'Літній відпочинок',
    bctD:'Дата',bctT:'Час',nodtmsg:'Спочатку оберіть дату',
    fnL:'Ваше ім\'я',fpL:'Телефон',fcL:'Коментар',bttl:'Бронювання',bsub:'Оберіть дату та час',
    sloc:'Локація',sdat:'Дата',stim:'Час',sdur:'Тривалість',sadv:'Аванс',stot:'Разом',
    bbtnTxt:'Перейти до оплати',
    lg1:'Вільно',lg2:'Обрано',lg3:'Зайнято',lg4:'Прибирання',
    nloctxt:'Оберіть локацію вище, щоб перейти до бронювання',
    errMin:'Мінімум 3 години! Оберіть більше слотів',errC:'Обирайте години підряд, без пропусків',
    pnT:'Передоплата за першу годину',pnD:'Для підтвердження бронювання. Аванс не повертається.',
    vcTitle:'Для бронювання потрібно:',
    vctLoc:'Оберіть локацію',vctDate:'Оберіть дату',vctTime:'Оберіть мінімум 3 години',
    vctName:'Введіть ваше ім\'я',vctPhone:'Введіть номер телефону',
    succT:'Заброньовано!',succD:'Бронювання підтверджено!<br>с. Михайлівка-Рубежівка, вул. Житомирська 53',
    bdoneBtn:'Чудово, дякую!',rT:'Правила відвідування',mT:'Як нас знайти',
    r1:'Особи до 18 років — лише у супроводі дорослих',r2:'Власну їжу та напої можна приносити',
    r3:'Тварини не допускаються',r4:'Пошкодження майна — огляд, оцінка, відшкодування',
    r5:'Знижки для постійних клієнтів — обговорюються особисто',r6:'1 год між бронюваннями — прибирання',
    mo:['Січень','Лютий','Березень','Квітень','Травень','Червень','Липень','Серпень','Вересень','Жовтень','Листопад','Грудень'],
    dn:['ПН','ВТ','СР','ЧТ','ПТ','СБ','НД'],dunit:'грн/год',
    mttlTxt:'Оплата',msub:'Введіть дані для оплати',cbl:'Аванс (1 година)',
    ptCard:'Картка',ptMono:'Monobank',ptCash:'Готівка',
    cnumL:'Номер картки',cexpL:'Строк дії',bpayTxt:'Підтвердити та оплатити',
    anoteT:'Зараз списується аванс — вартість 1 год. Решта оплачується на місці.',
    toastNoLoc:'Спочатку оберіть баню або локацію',
    toastNoDate:'Оберіть дату відвідування',
    toastNoTime:'Оберіть мінімум 3 години для бронювання',
    toastNoName:'Введіть ваше ім\'я',
    toastNoPhone:'Введіть номер телефону',
    toastMinHours:'Мінімум 3 год! Оберіть ще слоти часу',
    stepLabels:['Локація','Дата','Час','Контакти'],
    toastMinHours:'Мінімум 3 години — оберіть більше слотів',
    toastContiguous:'Обирайте години підряд',
  },
  ru:{secT:'Выберите локацию',secS:'Нажмите на карточку для просмотра деталей и бронирования',
    twt:'Зимний отдых',tst:'Летний отдых',
    bctD:'Дата',bctT:'Время',nodtmsg:'Сначала выберите дату',
    fnL:'Ваше имя',fpL:'Телефон',fcL:'Комментарий',bttl:'Бронирование',bsub:'Выберите дату и время',
    sloc:'Локация',sdat:'Дата',stim:'Время',sdur:'Продолжительность',sadv:'Аванс',stot:'Итого',
    bbtnTxt:'Перейти к оплате',
    lg1:'Свободно',lg2:'Выбрано',lg3:'Занято',lg4:'Уборка',
    nloctxt:'Выберите локацию выше для бронирования',
    errMin:'Минимум 3 часа! Выберите больше слотов',errC:'Выбирайте часы подряд',
    pnT:'Предоплата за первый час',pnD:'Для подтверждения бронирования. Аванс не возвращается.',
    vcTitle:'Для бронирования нужно:',
    vctLoc:'Выберите локацию',vctDate:'Выберите дату',vctTime:'Выберите минимум 3 часа',
    vctName:'Введите ваше имя',vctPhone:'Введите номер телефона',
    succT:'Забронировано!',succD:'Бронирование подтверждено!<br>с. Михайловка-Рубежёвка, ул. Житомирская 53',
    bdoneBtn:'Отлично, спасибо!',rT:'Правила посещения',mT:'Как нас найти',
    r1:'Лица до 18 лет — только со взрослыми',r2:'Свою еду и напитки можно приносить',
    r3:'Животные не допускаются',r4:'Повреждение имущества — осмотр, оценка, возмещение',
    r5:'Скидки для постоянных клиентов — обсуждаются лично',r6:'1 ч между бронированиями — уборка',
    mo:['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],
    dn:['ПН','ВТ','СР','ЧТ','ПТ','СБ','ВС'],dunit:'грн/ч',
    mttlTxt:'Оплата',msub:'Введите данные для оплаты',cbl:'Аванс (1 час)',
    ptCard:'Карта',ptMono:'Monobank',ptCash:'Наличные',
    cnumL:'Номер карты',cexpL:'Срок действия',bpayTxt:'Подтвердить и оплатить',
    anoteT:'Сейчас списывается аванс — стоимость 1 ч. Остаток оплачивается на месте.',
    toastNoLoc:'Сначала выберите баню или локацию',
    toastNoDate:'Выберите дату посещения',
    toastNoTime:'Выберите минимум 3 часа для бронирования',
    toastNoName:'Введите ваше имя',
    toastNoPhone:'Введите номер телефона',
    toastMinHours:'Минимум 3 часа — выберите больше слотов',
    toastContiguous:'Выбирайте часы подряд',
    stepLabels:['Локация','Дата','Время','Контакты'],
  }
};
function tr(){return TR2[lang]}

function init(){
  const n=new Date();curY=n.getFullYear();curM=n.getMonth();
  applyTr();renderGrids();renderCal();
  setTimeout(initRipples,100);
}

function setLang(l){
  lang=l;
  document.querySelectorAll('.lbtn').forEach((b,i)=>b.classList.toggle('on',i===(l==='uk'?0:1)));
  applyTr();renderGrids();if(selKey)openDetail(selKey);renderCal();if(selD)renderTS();updSum();updateValCheck();
}

function applyTr(){
  const t=tr();
  const ids=['secT','secS','twt','tst','bctD','bctT','fnL','fpL','fcL','bttl','bsub',
    'sloc','sdat','stim','sdur','sadv','stot','bbtnTxt','lg1','lg2','lg3','lg4','nloctxt',
    'pnT','pnD','vcTitle','vctLoc','vctDate','vctTime','vctName','vctPhone',
    'succT','bdoneBtn','rT','mT','r1','r2','r3','r4','r5','r6',
    'mttlTxt','msub','cbl','ptCard','ptMono','ptCash','cnumL','cexpL','bpayTxt','anoteT'];
  ids.forEach(id=>{
    const e=document.getElementById(id);if(!e)return;
    if(id==='succT'||id==='succD') e.innerHTML=t[id]||''; else e.textContent=t[id]||'';
  });
  document.getElementById('dunit').textContent=t.dunit;
  const nd=document.getElementById('nodtmsg');
  if(nd) nd.lastChild.textContent=' '+t.nodtmsg;
}


function allLocs(){return[...LOCS[lang].winter,...LOCS[lang].summer]}

function renderGrids(){
  renderGrid('wgrid',LOCS[lang].winter,'winter');
  renderGrid('sgrid',LOCS[lang].summer,'summer');
}
function renderGrid(id,locs,s){
  const g=document.getElementById(id);
  g.innerHTML=locs.map(l=>{
    const imgs=IMAGES[l.key]||[];
    const fi=imgs.find(x=>x&&x.trim()!=='');
    const imgHTML=fi?`<img src="${fi}" alt="${l.name}" onerror="this.remove()">`:'';
    const sel=selKey===l.key;
    const sc=sel?(s==='winter'?' sw':' ss'):'';
    const chkSvg=`<svg width="11" height="11"><use href="#ic-check"/></svg>`;
    const snwSvg=s==='winter'?`<svg width="10" height="10"><use href="#ic-snow"/></svg>`:`<svg width="10" height="10"><use href="#ic-sun"/></svg>`;
    const lblTxt=s==='winter'?(lang==='uk'?'Зима':'Зима'):(lang==='uk'?'Літо':'Лето');
    return`<div class="lcard${sc}" onclick="selLoc('${l.key}','${s}')">
      <div class="lthumb ${l.tb}">
        ${imgHTML}
        <div class="lfb"><svg width="44" height="44"><use href="#${l.icon}"/></svg></div>
        <div class="lbadge ${s==='winter'?'bw':'bs'}">${snwSvg}${lblTxt}</div>
        <div class="lchk">${chkSvg}</div>
      </div>
      <div class="linfo"><div class="lname">${l.name}</div><div class="lprice">${l.priceLabel} <small>${l.capacity}</small></div></div>
    </div>`;
  }).join('');
}

function activeSeason(s, resetSelection=true){
  season=s;
  document.getElementById('sbW').classList.toggle('on',s==='winter');
  document.getElementById('sbS').classList.toggle('on',s==='summer');
  document.getElementById('tabW').className='stab'+(s==='winter'?' w':'');
  document.getElementById('tabS').className='stab'+(s==='summer'?' s':'');
  if(resetSelection){
    selKey=null;selSlots=[];selD=null;
    document.getElementById('ldetail').classList.remove('on');
    document.getElementById('nloc').style.display='flex';
    document.getElementById('bsec').style.display='none';
    document.getElementById('stepsBar').style.display='none';
    renderCal();updSum();updateValCheck();
  }
}

function selLoc(key,s){
  // First switch season WITHOUT resetting selection
  activeSeason(s, false);
  // Now set the selection
  selKey=key; selSlots=[]; selD=null;
  renderGrids(); openDetail(key);
  document.getElementById('nloc').style.display='none';
  document.getElementById('bsec').style.display='block';
  document.getElementById('stepsBar').style.display='flex';
  renderCal(); updSum(); chkBtn(); updateValCheck(); updateSteps();
  setTimeout(()=>document.getElementById('ldetail').scrollIntoView({behavior:'smooth',block:'nearest'}),100);
}

function openDetail(key){
  const l=allLocs().find(x=>x.key===key);if(!l)return;
  const d=document.getElementById('ldetail');d.classList.add('on');
  document.getElementById('dname').textContent=l.name;
  document.getElementById('ddesc').textContent=l.desc;
  document.getElementById('dtags').innerHTML=l.tags.map(t=>`<div class="tag">${t}</div>`).join('');
  const dinc=document.getElementById('dinc');
  if(l.inc){
    dinc.innerHTML=`<svg class="icon" width="12" height="12" style="color:var(--green)"><use href="#ic-check"/></svg>${l.inc} &nbsp;·&nbsp; ${l.notinc}`;
  } else {
    dinc.textContent=l.notinc;
  }
  document.getElementById('dprice').textContent=l.priceLabel;
  document.getElementById('dmin').textContent=l.min;
  const olx=document.getElementById('dolx');
  if(l.olx){olx.href=l.olx;olx.style.display='flex';}else olx.style.display='none';
  curPh=0;
  const imgs=IMAGES[l.key]||[];const vi=imgs.filter(x=>x&&x.trim()!=='');
  const sl=document.getElementById('pslider');
  sl.querySelectorAll('.psl').forEach(e=>e.remove());
  const dc=document.getElementById('pdts');dc.innerHTML='';
  const phint=document.getElementById('phint');
  if(vi.length===0){
    phint.innerHTML=`<svg width="13" height="13"><use href="#ic-info"/></svg> Фото ще не додано`;
  } else {phint.innerHTML='';}
  const phs=vi.length>0?vi:[''];const isR=vi.length>0;
  phs.forEach((ph,i)=>{
    const div=document.createElement('div');
    div.className=`psl ${TBG[i%8]}${i===0?' on':''}`;
    if(isR&&ph){
      const img=document.createElement('img');img.src=ph;img.alt=l.name;
      img.onerror=()=>{img.remove();}; div.appendChild(img);
    }
    const fbDiv=document.createElement('div');
    fbDiv.innerHTML=`<svg width="90" height="90"><use href="#${l.icon}"/></svg>`;
    div.appendChild(fbDiv);
    sl.insertBefore(div,sl.querySelector('.pnl'));
    if(phs.length>1){const dot=document.createElement('button');dot.className='pdt'+(i===0?' on':'');dot.onclick=()=>goPh(i);dc.appendChild(dot);}
  });
}
function prevP(){const p=document.querySelectorAll('.psl');goPh((curPh-1+p.length)%p.length)}
function nextP(){const p=document.querySelectorAll('.psl');goPh((curPh+1)%p.length)}
function goPh(n){curPh=n;document.querySelectorAll('.psl').forEach((s,i)=>s.classList.toggle('on',i===n));document.querySelectorAll('.pdt').forEach((d,i)=>d.classList.toggle('on',i===n))}

function renderCal(){
  const t=tr();
  document.getElementById('cmo').textContent=t.mo[curM]+' '+curY;
  const g=document.getElementById('cgrid');g.innerHTML='';
  t.dn.forEach(d=>{const e=document.createElement('div');e.className='cdl';e.textContent=d;g.appendChild(e)});
  const fd=new Date(curY,curM,1);let sw=fd.getDay();sw=sw===0?6:sw-1;
  for(let i=0;i<sw;i++){const e=document.createElement('div');e.className='cd ce';g.appendChild(e)}
  const days=new Date(curY,curM+1,0).getDate();
  const td=new Date();td.setHours(0,0,0,0);
  for(let d=1;d<=days;d++){
    const e=document.createElement('div');e.className='cd';e.textContent=d;
    const date=new Date(curY,curM,d);const ds=fmtD(date);
    if(date<td){e.classList.add('cp');}
    else{
      if(date.toDateString()===td.toDateString()) e.classList.add('ct');
      if(selD&&ds===fmtD(selD)) e.classList.add('cs');
      e.addEventListener('click',()=>{selD=date;selSlots=[];renderCal();renderTS();updSum();chkBtn();updateValCheck();updateSteps();});
    }
    g.appendChild(e);
  }
}
function prevM(){curM--;if(curM<0){curM=11;curY--;}renderCal()}
function nextM(){curM++;if(curM>11){curM=0;curY++;}renderCal()}

function getBooked(ds){
  const all=JSON.parse(localStorage.getItem('spa_bookings')||'[]');
  const bl=JSON.parse(localStorage.getItem('spa_blocked')||'{}');
  const b=new Set(),cl=new Set();
  all.filter(x=>x.date===ds&&x.status!=='cancelled').forEach(x=>{for(let h=x.startH;h<x.startH+x.hours;h++)b.add(h);cl.add(x.startH+x.hours)});
  (bl[ds]||[]).forEach(h=>b.add(h));return{b,cl};
}
function renderTS(){
  if(!selD){document.getElementById('twrap').innerHTML=`<div class="nodt" id="nodtmsg"><svg class="icon" width="16" height="16" style="color:var(--border)"><use href="#ic-calendar"/></svg> ${tr().nodtmsg}</div>`;return}
  const ds=fmtD(selD);const{b,cl}=getBooked(ds);
  const w=document.getElementById('twrap');w.innerHTML='<div class="tgrid" id="tgrid"></div>';
  const g=document.getElementById('tgrid');
  for(let h=0;h<24;h++){
    const e=document.createElement('div');e.className='ts';e.textContent=`${pad(h)}–${pad(h+1)}`;
    if(b.has(h)){e.classList.add('tb');e.title=lang==='uk'?'Зайнято':'Занято';}
    else if(cl.has(h)){e.classList.add('tc');e.innerHTML=`${pad(h)}–${pad(h+1)}&nbsp;<svg width="10" height="10" style="color:#92400e;vertical-align:middle"><use href="#ic-broom"/></svg>`;}
    else{if(selSlots.includes(h))e.classList.add('ton');e.addEventListener('click',()=>togSlot(h));}
    g.appendChild(e);
  }
}
function togSlot(h){
  const idx=selSlots.indexOf(h);
  if(idx>-1){
    const mn=Math.min(...selSlots),mx=Math.max(...selSlots);
    if(h===mn||h===mx||selSlots.length===1) selSlots.splice(idx,1);
    else{showToast(tr().errC,'err');return;}
  } else {
    if(selSlots.length===0){selSlots.push(h);}
    else{
      const mn=Math.min(...selSlots),mx=Math.max(...selSlots);
      if(h===mx+1||h===mn-1) selSlots.push(h);
      else{showToast(tr().errC,'err');return;}
    }
  }
  selSlots.sort((a,b)=>a-b);
  hideErr();renderTS();updSum();chkBtn();updateValCheck();updateSteps();
}

function showErrShake(){
  const e=document.getElementById('emsg'),w=document.getElementById('twrap');
  document.getElementById('emsgTxt').textContent=tr().errMin;
  e.classList.add('on');w.classList.add('serr');
  setTimeout(()=>w.classList.remove('serr'),500);
  setTimeout(()=>e.classList.remove('on'),3500);
}
function hideErr(){const e=document.getElementById('emsg');if(e)e.classList.remove('on')}

function getLoc(){if(!selKey)return null;return allLocs().find(l=>l.key===selKey)}
function updSum(){
  const l=getLoc();
  document.getElementById('slocv').textContent=l?l.name:'—';
  document.getElementById('sdatv').textContent=selD?selD.toLocaleDateString(lang==='uk'?'uk-UA':'ru-RU',{day:'numeric',month:'long',year:'numeric'}):'—';
  if(selSlots.length>0&&l){
    const mn=Math.min(...selSlots),mx=Math.max(...selSlots);
    document.getElementById('stimv').textContent=`${pad(mn)}:00 – ${pad(mx+1)}:00`;
    document.getElementById('sdurv').textContent=selSlots.length+(lang==='uk'?' год':' ч');
    if(l.price>0){
      document.getElementById('sadvv').textContent=l.price.toLocaleString('uk-UA')+' грн';
      document.getElementById('stotv').textContent=(l.price*selSlots.length).toLocaleString('uk-UA')+' грн';
    } else {
      document.getElementById('sadvv').textContent=lang==='uk'?'Уточнюйте':'Уточняйте';
      document.getElementById('stotv').textContent=lang==='uk'?'Уточнюйте':'Уточняйте';
    }
  } else {
    ['stimv','sdurv','sadvv','stotv'].forEach(id=>document.getElementById(id).textContent='—');
  }
}

// RIPPLE EFFECT — attach to all interactive elements
function addRipple(el){
  el.classList.add('ripple-host');
  el.addEventListener('pointerdown',function(e){
    const r=document.createElement('span');
    r.className='ripple';
    const rect=el.getBoundingClientRect();
    const size=Math.max(rect.width,rect.height)*2;
    r.style.width=r.style.height=size+'px';
    r.style.left=(e.clientX-rect.left-size/2)+'px';
    r.style.top=(e.clientY-rect.top-size/2)+'px';
    el.appendChild(r);
    r.addEventListener('animationend',()=>r.remove());
  });
}
function initRipples(){
  document.querySelectorAll('.hcta,.bgoto,.bbtn,.bpay,.bdone,.stab,.fb,.pb,.lbtn,.carr').forEach(addRipple);
}

// STEPS BAR
function updateSteps(){
  const t=tr();
  const hasLoc=!!selKey;
  const hasDate=!!selD;
  const hasTime=selSlots.length>=3;
  const hasContact=document.getElementById('finp').value.trim().length>1&&document.getElementById('fph').value.trim().length>5;

  const sb=document.getElementById('stepsBar');
  if(selKey) sb.style.display='flex'; // show after first loc selected

  const steps=[
    {id:'step1',done:hasLoc,active:!hasLoc},
    {id:'step2',done:hasDate,active:hasLoc&&!hasDate},
    {id:'step3',done:hasTime,active:hasLoc&&hasDate&&!hasTime},
    {id:'step4',done:hasContact,active:hasLoc&&hasDate&&hasTime&&!hasContact},
  ];
  steps.forEach(s=>{
    const el=document.getElementById(s.id);
    el.classList.toggle('done',s.done);
    el.classList.toggle('active',s.active&&!s.done);
  });
  // Step labels
  const labels=t.stepLabels||['Локація','Дата','Час','Контакти'];
  ['stepL1','stepL2','stepL3','stepL4'].forEach((id,i)=>{
    const e=document.getElementById(id);if(e)e.textContent=labels[i];
  });
}

// VALIDATION CHECKLIST
function updateValCheck(){
  const t=tr();
  const hasLoc=!!selKey;
  const hasDate=!!selD;
  const hasTime=selSlots.length>=3;
  const hasName=document.getElementById('finp').value.trim().length>1;
  const hasPhone=document.getElementById('fph').value.trim().length>5;
  const all=hasLoc&&hasDate&&hasTime&&hasName&&hasPhone;

  const vc=document.getElementById('valCheck');
  vc.classList.toggle('visible', !all);

  setVC('vc-loc',hasLoc,t.vctLoc);
  setVC('vc-date',hasDate,t.vctDate);
  setVC('vc-time',hasTime,t.vctTime);
  setVC('vc-name',hasName,t.vctName);
  setVC('vc-phone',hasPhone,t.vctPhone);

  // Only highlight input errors after user starts typing
  const started=hasName||hasPhone;
  document.getElementById('finp').classList.toggle('err-input', started && !hasName);
  document.getElementById('fph').classList.toggle('err-input', started && !hasPhone);
}

function setVC(id,ok,txt){
  const row=document.getElementById(id);
  const dot=row.querySelector('.vc-dot');
  row.classList.toggle('ok',ok);row.classList.toggle('no',!ok);
  dot.innerHTML=ok?`<svg class="icon" width="10" height="10"><use href="#ic-check"/></svg>`:`<svg class="icon" width="10" height="10"><use href="#ic-x"/></svg>`;
  // update text
  const ids={
    'vc-loc':'vct-loc','vc-date':'vct-date','vc-time':'vct-time',
    'vc-name':'vct-name','vc-phone':'vct-phone'
  };
  document.getElementById(ids[id]).textContent=txt;
}

function chkBtn(){
  const hasName=document.getElementById('finp').value.trim().length>1;
  const hasPhone=document.getElementById('fph').value.trim().length>5;
  const ok=selKey&&selD&&selSlots.length>=3&&hasName&&hasPhone;
  const btn=document.getElementById('bbtn');
  // Never disable — always clickable, style changes instead
  btn.classList.toggle('ready',ok);
  btn.style.opacity=ok?'1':'0.78';
  updateValCheck();updateSteps();
}

// HANDLE BOOK BUTTON — show exact what's missing
function handleBook(){
  const t=tr();
  const hint=document.getElementById('bbtnHint');
  let msg=null;
  if(!selKey)           msg={text:t.toastNoLoc,   scroll:'mainSec'};
  else if(!selD)        msg={text:t.toastNoDate,  scroll:'bsec'};
  else if(selSlots.length===0) msg={text:t.toastNoTime,  scroll:'bsec'};
  else if(selSlots.length<3)   msg={text:t.toastMinHours,scroll:'bsec',shake:true};
  else if(!document.getElementById('finp').value.trim()||document.getElementById('finp').value.trim().length<2)
                        msg={text:t.toastNoName,  focus:'finp'};
  else if(document.getElementById('fph').value.trim().length<6)
                        msg={text:t.toastNoPhone, focus:'fph'};

  if(msg){
    // Show inline hint under button
    hint.innerHTML=`<svg width="14" height="14"><use href="#ic-warn"/></svg><span>${msg.text}</span>`;
    hint.style.display='flex';
    clearTimeout(hint._t);
    hint._t=setTimeout(()=>{hint.style.display='none'},3800);
    // Also show toast
    showToast(msg.text,'err');
    // Shake button
    const btn=document.getElementById('bbtn');
    btn.classList.add('serr');
    setTimeout(()=>btn.classList.remove('serr'),500);
    // Additional actions
    if(msg.shake) showErrShake();
    if(msg.scroll){
      const el=document.getElementById(msg.scroll);
      if(el) el.scrollIntoView({behavior:'smooth',block:'center'});
    }
    if(msg.focus){
      const el=document.getElementById(msg.focus);
      if(el){el.focus();el.classList.add('err-input');}
    }
    return;
  }
  hint.style.display='none';
  openPay();
}

function openPay(){
  const l=getLoc();const mn=Math.min(...selSlots),mx=Math.max(...selSlots);
  const ts=`${pad(mn)}:00–${pad(mx+1)}:00`;
  const ds=selD.toLocaleDateString(lang==='uk'?'uk-UA':'ru-RU',{day:'numeric',month:'long'});
  document.getElementById('cba').textContent=l.price>0?l.price.toLocaleString('uk-UA')+' грн':lang==='uk'?'Уточнюйте':'Уточняйте';
  document.getElementById('cbd').textContent=`${l.name} · ${ds} · ${ts}`;
  document.getElementById('pForm').style.display='block';
  document.getElementById('succView').style.display='none';
  document.getElementById('pModal').classList.add('on');
  selPay(document.querySelectorAll('.pb')[0],'card');
}
function closePay(){document.getElementById('pModal').classList.remove('on')}
function selPay(el,type){
  document.querySelectorAll('.pb').forEach(b=>b.classList.remove('on'));el.classList.add('on');payM=type;
  document.getElementById('cformEl').style.display=type==='card'?'grid':'none';
  const ap=document.getElementById('apyEl');
  const t=tr();
  if(type==='mono'){
    ap.style.display='flex';
    document.getElementById('apyI').innerHTML=`<svg width="36" height="36"><use href="#ic-mobile"/></svg>`;
    document.getElementById('apyT').textContent=t.ptMono;
    document.getElementById('apyD').textContent=lang==='uk'?'Посилання надійде на вказаний телефон':'Ссылка придёт на указанный телефон';
  } else if(type==='cash'){
    ap.style.display='flex';
    document.getElementById('apyI').innerHTML=`<svg width="36" height="36"><use href="#ic-cash"/></svg>`;
    document.getElementById('apyT').textContent=lang==='uk'?'Оплата на місці':'Оплата на месте';
    document.getElementById('apyD').textContent=lang==='uk'?'Аванс сплачується при заїзді':'Аванс оплачивается при заезде';
  } else {
    ap.style.display='none';
  }
}
function confPay(){
  const l=getLoc();const mn=Math.min(...selSlots),mx=Math.max(...selSlots);
  const bk={id:'ST'+Date.now().toString(36).toUpperCase(),sauna:l.name,saunaIdx:l.key,
    date:fmtD(selD),dateDisplay:selD.toLocaleDateString('uk-UA',{day:'numeric',month:'long',year:'numeric'}),
    startH:mn,hours:selSlots.length,timeStr:`${pad(mn)}:00–${pad(mx+1)}:00`,
    name:document.getElementById('finp').value.trim(),phone:document.getElementById('fph').value.trim(),
    comment:document.getElementById('fcom').value.trim(),total:l.price*selSlots.length||0,
    status:'confirmed',payMethod:payM,createdAt:new Date().toISOString()};
  const all=JSON.parse(localStorage.getItem('spa_bookings')||'[]');all.push(bk);localStorage.setItem('spa_bookings',JSON.stringify(all));
  document.getElementById('bcode').textContent=bk.id;
  document.getElementById('pForm').style.display='none';
  document.getElementById('succView').style.display='block';
}
function closeReset(){
  closePay();selSlots=[];selD=null;renderCal();renderTS();updSum();chkBtn();
  document.getElementById('finp').value='';document.getElementById('fph').value='';document.getElementById('fcom').value='';
  updateValCheck();
}

function fmtD(d){return d.getFullYear()+'-'+pad2(d.getMonth()+1)+'-'+pad2(d.getDate())}
function pad(h){return String(h).padStart(2,'0')}
function pad2(n){return String(n).padStart(2,'0')}
function fmtCard(el){let v=el.value.replace(/\D/g,'').substring(0,16);el.value=v.replace(/(.{4})/g,'$1 ').trim()}
function fmtExp(el){let v=el.value.replace(/\D/g,'').substring(0,4);if(v.length>2)v=v.substring(0,2)+'/'+v.substring(2);el.value=v}

function showToast(msg,type='',duration=4000){
  const wrap=document.getElementById('toastWrap');
  const t=document.createElement('div');
  t.className='toast '+(type||'');
  const icon=type==='err'?'#ic-warn':type==='ok'?'#ic-success':'#ic-info';
  t.innerHTML=`<svg width="18" height="18" style="flex-shrink:0"><use href="${icon}"/></svg><span>${msg}</span>`;
  wrap.appendChild(t);
  setTimeout(()=>t.classList.add('on'),30);
  setTimeout(()=>{t.classList.remove('on');setTimeout(()=>t.remove(),400)},duration);
}
function toSec(){document.getElementById('mainSec').scrollIntoView({behavior:'smooth',block:'start'})}
function toBook(){document.getElementById('bsec').scrollIntoView({behavior:'smooth',block:'start'})}

applyTr();init();setTimeout(initRipples,200);
</script>
</body>
</html>
